<div class="form-container">
  <form [formGroup]="importForm" (ngSubmit)="onSubmit()">
    <header class="header">
      <div class="header-container">
        <div class="icon-container">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 512 512">
            <path fill="#3e99e7" d="M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79Z" />
            <path fill="#3e99e7" d="m490.91 244.15l-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97" />
          </svg>
        </div>
        <div class="p-container icon-container">
          <p>/ 04</p>
          <p>/ Modelos de datos excel</p>
          <p style="color: #3e99e7">/ Importar</p>
        </div>
      </div>
    </header>

    <div class="section">
      <h2>Importar</h2>
      <div class="form-group">
        <label for="name">Nombre *</label>
        <input id="name" type="text" formControlName="name" />
      </div>

      <div class="form-group">
        <label for="modelType">Tipo de modelo *</label>
        <select id="modelType" formControlName="modelType">
          <option value="" selected hidden>Agregar datos de la solicitud de los estudiantes</option>
          <option value="academic_record">Registro académico</option>
          <option value="enrollment">Datos de matrícula</option>
          <option value="attendance">Registro de asistencia</option>
          <option value="grades">Calificaciones</option>
        </select>
      </div>
      
      
      <div class="form-group">
        <label for="description">Descripción*</label>
        <textarea id="description" formControlName="description" rows="3"></textarea>
      </div>

      <div class="form-group">       
            <label for="file">Fichero *</label>
            <input type="file" id="file" (change)="onFileSelected($event)" /> 
            <div >
              <button class="button-analyze" type="button" (click)="onAnalyzeFile()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#fff" d="M15.5 12c2.5 0 4.5 2 4.5 4.5c0 .88-.25 1.71-.69 2.4l3.08 3.1L21 23.39l-3.12-3.07c-.69.43-1.51.68-2.38.68c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5m0 2a2.5 2.5 0 0 0-2.5 2.5a2.5 2.5 0 0 0 2.5 2.5a2.5 2.5 0 0 0 2.5-2.5a2.5 2.5 0 0 0-2.5-2.5M7 15v2h2c.14 1.55.8 2.94 1.81 4H5a2 2 0 0 1-2-2V5c0-1.11.89-2 2-2h14a2 2 0 0 1 2 2v8.03A6.49 6.49 0 0 0 15.5 10c-1.27 0-2.46.37-3.46 1H7v2h3c-.36.6-.66 1.28-.83 2zm10-6V7H7v2z"/></svg>
                Analizar
              </button>     
            </div>   
             
      </div>
      
    </div>

    <footer class="container-footer">
      <div class="buttons">
        <button  type="button" class="cancel bottom-footer" (click)="navigateToList()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25"
            height="25"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"
            />
          </svg>
          Cancelar
        </button>

        <!-- Botón: Crear y agregar otro -->
        <button
         type="button" 
         [disabled]="!fileAnalyzed"
         [ngClass]="{'disabled-button': !fileAnalyzed}"
         class="create bottom-footer" 
         (click)="onSubmit('create')">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10s10-4.477 10-10S17.523 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"
            />
          </svg>
          Crear y agregar otro
        </button>

        <!-- Botón: Crear y regresar al listado -->
        <button
          type="button"
          [disabled]="!fileAnalyzed"
          [ngClass]="{'disabled-button': !fileAnalyzed}"
          class="create-list  bottom-footer"
          (click)="onSubmit('create-list')"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
          >
            <path
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M17 21H7m10 0h.803c1.118 0 1.677 0 2.104-.218c.377-.192.683-.498.875-.874c.218-.427.218-.987.218-2.105V9.22c0-.45 0-.675-.048-.889a2 2 0 0 0-.209-.545c-.106-.19-.256-.355-.55-.682l-2.755-3.062c-.341-.378-.514-.57-.721-.708a2 2 0 0 0-.61-.271C15.863 3 15.6 3 15.075 3H6.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C3 4.52 3 5.08 3 6.2v11.6c0 1.12 0 1.68.218 2.107c.192.377.497.683.874.875c.427.218.987.218 2.105.218H7m10 0v-3.803c0-1.118 0-1.678-.218-2.105a2 2 0 0 0-.875-.874C15.48 14 14.92 14 13.8 14h-3.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C7 15.52 7 16.08 7 17.2V21m8-14H9"
            />
          </svg>

          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25"
            height="25"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"
            />
          </svg>
          Crear y regresar al listado
        </button>
      </div>
    </footer>
  </form>
</div>