<div class="form-container">
  <form [formGroup]="studentForm" (ngSubmit)="onSubmit()">
    <header class="header">
      <div class="header-container">
        <div class="icon-container">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25"
            height="25"
            viewBox="0 0 512 512"
          >
            <path
              fill="#3e99e7"
              d="M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79Z"
            />
            <path
              fill="#3e99e7"
              d="m490.91 244.15l-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97"
            />
          </svg>
        </div>
        <div class="p-container icon-container">
          <p>/ 01</p>
          <p>/ Estudiante</p>
          <p style="color: #3e99e7">/ Entrada</p>
          <p>/ Crear</p>
        </div>
      </div>
    </header>

    <div class="father">
      <div class="container-personal">
        <div class="section">
          <div>
            <label for="idCard">Carné de identidad *</label>
            <input
              id="idCard"
              type="text"
              formControlName="idCard"
              (keydown)="onKeyDown($event)"
              [ngClass]="{
                'invalid-input':
                  studentForm.get('idCard')?.invalid &&
                  studentForm.get('idCard')?.touched,
              }"
              [style.border]="
                studentForm.get('idCard')?.invalid &&
                studentForm.get('idCard')?.touched
                  ? '1px solid red'
                  : ''
              "
            />
          </div>
          <button class="autocomplete" type="button" (click)="onAutocomplete()">
            Autocompletar
          </button>
        </div>

        <!-- Datos personales -->
        <!-- Cambiar los *ngIf por [style.visibility] -->
        <div class="section" [style.visibility]="isFormVisible ? 'visible' : 'hidden'">
          <h3>Datos personales</h3>

          <div class="form-group">
            <label for="nationality">Nacionalidad *</label>
            <input
              id="nationality"
              type="text"
              formControlName="nationality"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="lastName">Apellidos *</label>
            <input
              id="lastName"
              type="text"
              formControlName="lastName"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="firstName">Nombre(s) *</label>
            <input
              id="firstName"
              type="text"
              formControlName="firstName"
              readonly
            />
          </div>

          <div class="form-group textarea-address">
            <label for="address">Dirección particular *</label>
            <textarea
              id="address"
              formControlName="address"
              readonly
            ></textarea>
          </div>

          <div class="form-group">
            <label for="province">Provincia de residencia *</label>
            <input
              id="province"
              type="text"
              formControlName="province"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="municipality">Municipio de residencia *</label>
            <input
              id="municipality"
              type="text"
              formControlName="municipality"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="skinColor">Color de piel</label>
            <input
              id="skinColor"
              type="text"
              formControlName="skinColor"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="gender">Sexo *</label>
            <input id="gender" type="text" formControlName="gender" readonly />
          </div>
        </div>
      </div>

      <!-- Datos de procedencia -->
      <div class="section Origin-data container-data" [style.visibility]="isFormVisible ? 'visible' : 'hidden'">
        <h3>Datos de procedencia</h3>

        <div class="form-group">
          <label for="preUniversity">Preuniversitario *</label>
          <select id="preUniversity" formControlName="preUniversity">
            <!-- Puedes agregar más opciones según tus necesidades -->
            <option value="pre-university-1">Preuniversitario 1</option>
            <option value="pre-university-2">Preuniversitario 2</option>
            <option value="pre-university-3">Preuniversitario 3</option>
          </select>
        </div>

        <div class="form-group">
          <label for="admissionMethod">Vía de ingreso *</label>
          <select id="admissionMethod" formControlName="admissionMethod">
            <!-- Opciones para la vía de ingreso -->
            <option value="method-1">Método 1</option>
            <option value="method-2">Método 2</option>
            <option value="method-3">Método 3</option>
          </select>
        </div>
      </div>

      <!-- Datos sociales -->
      <div class="section social-data container-data" [style.visibility]="isFormVisible ? 'visible' : 'hidden'">
        <h3>Datos sociales</h3>

        <div class="form-group">
          <label for="motherEducation">Escolaridad de la madre *</label>
          <select id="motherEducation" formControlName="motherEducation">
            <option value="none">Ninguno</option>
            <option value="primary">Primaria</option>
            <option value="secondary">Secundaria</option>
            <option value="highschool">Preparatoria</option>
            <option value="university">Universidad</option>
          </select>
        </div>

        <div class="form-group">
          <label for="fatherEducation">Escolaridad del padre *</label>
          <select id="fatherEducation" formControlName="fatherEducation">
            <option value="none">Ninguno</option>
            <option value="primary">Primaria</option>
            <option value="secondary">Secundaria</option>
            <option value="highschool">Preparatoria</option>
            <option value="university">Universidad</option>
          </select>
        </div>

        <div class="form-group">
          <label for="motherOccupation">Ocupación de la madre *</label>
          <select id="motherOccupation" formControlName="motherOccupation">
            <option value="housewife">Ama de casa</option>
            <option value="teacher">Maestra</option>
            <option value="doctor">Médica</option>
            <option value="engineer">Ingeniera</option>
            <option value="other">Otro</option>
          </select>
        </div>

        <div class="form-group">
          <label for="fatherOccupation">Ocupación del padre *</label>
          <select id="fatherOccupation" formControlName="fatherOccupation">
            <option value="worker">Obrero</option>
            <option value="teacher">Maestro</option>
            <option value="doctor">Médico</option>
            <option value="engineer">Ingeniero</option>
            <option value="other">Otro</option>
          </select>
        </div>

        <div class="form-group">
          <label for="motherWorkSector">Sector laboral de la madre *</label>
          <select id="motherWorkSector" formControlName="motherWorkSector">
            <option value="education">Educación</option>
            <option value="health">Salud</option>
            <option value="services">Servicios</option>
            <option value="commerce">Comercio</option>
            <option value="other">Otro</option>
          </select>
        </div>

        <div class="form-group">
          <label for="fatherWorkSector">Sector laboral del padre *</label>
          <select id="fatherWorkSector" formControlName="fatherWorkSector">
            <option value="education">Educación</option>
            <option value="health">Salud</option>
            <option value="services">Servicios</option>
            <option value="commerce">Comercio</option>
            <option value="other">Otro</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Botones -->

    <footer class="container-footer" [style.visibility]="isFormVisible ? 'visible' : 'hidden'">
      <div class="buttons">
        <button type="button" class="cancel" (click)="navigateToAddStudent()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25"
            height="25"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"
            />
          </svg>
          Cancelar
        </button>

        <!-- Botón: Crear y agregar otro -->
        <button type="button" class="create" (click)="onSubmit('create')">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10s10-4.477 10-10S17.523 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"
            />
          </svg>
          Crear y agregar otro
        </button>

        <!-- Botón: Crear y regresar al listado -->
        <button
          type="button"
          class="create-list"
          (click)="onSubmit('create-list')"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
          >
            <path
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M17 21H7m10 0h.803c1.118 0 1.677 0 2.104-.218c.377-.192.683-.498.875-.874c.218-.427.218-.987.218-2.105V9.22c0-.45 0-.675-.048-.889a2 2 0 0 0-.209-.545c-.106-.19-.256-.355-.55-.682l-2.755-3.062c-.341-.378-.514-.57-.721-.708a2 2 0 0 0-.61-.271C15.863 3 15.6 3 15.075 3H6.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C3 4.52 3 5.08 3 6.2v11.6c0 1.12 0 1.68.218 2.107c.192.377.497.683.874.875c.427.218.987.218 2.105.218H7m10 0v-3.803c0-1.118 0-1.678-.218-2.105a2 2 0 0 0-.875-.874C15.48 14 14.92 14 13.8 14h-3.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C7 15.52 7 16.08 7 17.2V21m8-14H9"
            />
          </svg>

          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25"
            height="25"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"
            />
          </svg>
          Crear y regresar al listado
        </button>
      </div>
    </footer>
  </form>
</div>
